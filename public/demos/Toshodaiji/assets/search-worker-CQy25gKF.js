(function(){"use strict";class P{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(l,e){let n=this.length++;for(;n>0;){const u=n-1>>1,t=this.values[u];if(e>=t)break;this.ids[n]=this.ids[u],this.values[n]=t,n=u}this.ids[n]=l,this.values[n]=e}pop(){if(this.length===0)return;const l=this.ids[0];if(this.length--,this.length>0){const e=this.ids[0]=this.ids[this.length],n=this.values[0]=this.values[this.length],u=this.length>>1;let t=0;for(;t<u;){let i=(t<<1)+1;const a=i+1;let o=this.ids[i],m=this.values[i];const s=this.values[a];if(a<this.length&&s<m&&(i=a,o=this.ids[a],m=s),m>=n)break;this.ids[t]=o,this.values[t]=m,t=i}this.ids[t]=e,this.values[t]=n}return l}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const b=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],_=3;class h{static from(l,e=0){if(e%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!l||l.byteLength===void 0||l.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[n,u]=new Uint8Array(l,e+0,2);if(n!==251)throw new Error("Data does not appear to be in a Flatbush format.");const t=u>>4;if(t!==_)throw new Error(`Got v${t} data when expected v${_}.`);const i=b[u&15];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(l,e+2,1),[o]=new Uint32Array(l,e+4,1);return new h(o,a,i,void 0,l,e)}constructor(l,e=16,n=Float64Array,u=ArrayBuffer,t,i=0){if(l===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(l)||l<=0)throw new Error(`Unexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+e,2),65535),this.byteOffset=i;let a=l,o=a;this._levelBounds=[a*4];do a=Math.ceil(a/this.nodeSize),o+=a,this._levelBounds.push(o*4);while(a!==1);this.ArrayType=n,this.IndexArrayType=o<16384?Uint16Array:Uint32Array;const m=b.indexOf(this.ArrayType),s=o*4*this.ArrayType.BYTES_PER_ELEMENT;if(m<0)throw new Error(`Unexpected typed array class: ${n}.`);t&&t.byteLength!==void 0&&!t.buffer?(this.data=t,this._boxes=new this.ArrayType(this.data,i+8,o*4),this._indices=new this.IndexArrayType(this.data,i+8+s,o),this._pos=o*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+s+o*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,o*4),this._indices=new this.IndexArrayType(this.data,8+s,o),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(_<<4)+m]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=l),this._queue=new P}add(l,e,n=l,u=e){const t=this._pos>>2,i=this._boxes;return this._indices[t]=t,i[this._pos++]=l,i[this._pos++]=e,i[this._pos++]=n,i[this._pos++]=u,l<this.minX&&(this.minX=l),e<this.minY&&(this.minY=e),n>this.maxX&&(this.maxX=n),u>this.maxY&&(this.maxY=u),t}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const l=this._boxes;if(this.numItems<=this.nodeSize){l[this._pos++]=this.minX,l[this._pos++]=this.minY,l[this._pos++]=this.maxX,l[this._pos++]=this.maxY;return}const e=this.maxX-this.minX||1,n=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),t=65535;for(let i=0,a=0;i<this.numItems;i++){const o=l[a++],m=l[a++],s=l[a++],d=l[a++],y=Math.floor(t*((o+s)/2-this.minX)/e),p=Math.floor(t*((m+d)/2-this.minY)/n);u[i]=A(y,p)}g(u,l,this._indices,0,this.numItems-1,this.nodeSize);for(let i=0,a=0;i<this._levelBounds.length-1;i++){const o=this._levelBounds[i];for(;a<o;){const m=a;let s=l[a++],d=l[a++],y=l[a++],p=l[a++];for(let c=1;c<this.nodeSize&&a<o;c++)s=Math.min(s,l[a++]),d=Math.min(d,l[a++]),y=Math.max(y,l[a++]),p=Math.max(p,l[a++]);this._indices[this._pos>>2]=m,l[this._pos++]=s,l[this._pos++]=d,l[this._pos++]=y,l[this._pos++]=p}}}search(l,e,n,u,t){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let i=this._boxes.length-4;const a=[],o=[];for(;i!==void 0;){const m=Math.min(i+this.nodeSize*4,F(i,this._levelBounds));for(let s=i;s<m;s+=4){if(n<this._boxes[s]||u<this._boxes[s+1]||l>this._boxes[s+2]||e>this._boxes[s+3])continue;const d=this._indices[s>>2]|0;i>=this.numItems*4?a.push(d):(t===void 0||t(d))&&o.push(d)}i=a.pop()}return o}neighbors(l,e,n=1/0,u=1/0,t){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let i=this._boxes.length-4;const a=this._queue,o=[],m=u*u;l:for(;i!==void 0;){const s=Math.min(i+this.nodeSize*4,F(i,this._levelBounds));for(let d=i;d<s;d+=4){const y=this._indices[d>>2]|0,p=w(l,this._boxes[d],this._boxes[d+2]),c=w(e,this._boxes[d+1],this._boxes[d+3]),f=p*p+c*c;f>m||(i>=this.numItems*4?a.push(y<<1,f):(t===void 0||t(y))&&a.push((y<<1)+1,f))}for(;a.length&&a.peek()&1;)if(a.peekValue()>m||(o.push(a.pop()>>1),o.length===n))break l;i=a.length?a.pop()>>1:void 0}return a.clear(),o}}function w(r,l,e){return r<l?l-r:r<=e?0:r-e}function F(r,l){let e=0,n=l.length-1;for(;e<n;){const u=e+n>>1;l[u]>r?n=u:e=u+1}return l[e]}function g(r,l,e,n,u,t){if(Math.floor(n/t)>=Math.floor(u/t))return;const i=r[n+u>>1];let a=n-1,o=u+1;for(;;){do a++;while(r[a]<i);do o--;while(r[o]>i);if(a>=o)break;x(r,l,e,a,o)}g(r,l,e,n,o,t),g(r,l,e,o+1,u,t)}function x(r,l,e,n,u){const t=r[n];r[n]=r[u],r[u]=t;const i=4*n,a=4*u,o=l[i],m=l[i+1],s=l[i+2],d=l[i+3];l[i]=l[a],l[i+1]=l[a+1],l[i+2]=l[a+2],l[i+3]=l[a+3],l[a]=o,l[a+1]=m,l[a+2]=s,l[a+3]=d;const y=e[n];e[n]=e[u],e[u]=y}function A(r,l){let e=r^l,n=65535^e,u=65535^(r|l),t=r&(l^65535),i=e|n>>1,a=e>>1^e,o=u>>1^n&t>>1^u,m=e&u>>1^t>>1^t;e=i,n=a,u=o,t=m,i=e&e>>2^n&n>>2,a=e&n>>2^n&(e^n)>>2,o^=e&u>>2^n&t>>2,m^=n&u>>2^(e^n)&t>>2,e=i,n=a,u=o,t=m,i=e&e>>4^n&n>>4,a=e&n>>4^n&(e^n)>>4,o^=e&u>>4^n&t>>4,m^=n&u>>4^(e^n)&t>>4,e=i,n=a,u=o,t=m,o^=e&u>>8^n&t>>8,m^=n&u>>8^(e^n)&t>>8,e=o^o>>1,n=m^m>>1;let s=r^l,d=n|65535^(s|e);return s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765,(d<<1|s)>>>0}function $(r){const l=r.length,e=new h(l),n={};for(const{a:u,lonlat:{x:t,y:i}}of r){const a=e.add(t,i);n[`${a}`]=u}return e.finish(),{fb:e,idxs:n}}function I(r){const l=$(r),e=new Map(r.map(({a:n,lonlat:u})=>[n,u]));return{b:l,m:e}}function M({b:r,m:l},e){const{fb:n,idxs:u}=r,t=n.neighbors(e.x,e.y,1,100);if(t.length===0)return null;const i=t[0],a=u[`${i}`],o=l.get(a);return o===void 0?null:{address:a,lonlat:o}}var E={type:"FeatureCollection",name:"map-centroids",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{osm_id:"6768597",osm_way_id:null,name:null,type:"multipolygon",aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:"forest",leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78645696970023,34.67611614663537]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"218644927",name:"唐招提寺",type:null,aeroway:null,amenity:"place_of_worship",admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:"heritage",land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"heritage"=>"1","heritage:operator"=>"whc","name:en"=>"Toshodaiji temple","name:zh"=>"唐招提寺","ref:whc"=>"870-006","religion"=>"buddhist","whc:criteria"=>"(ii),(iii),(iv),(vi)","whc:inscription_date"=>"1998","wikidata"=>"Q973175","wikimedia_commons"=>"Category:Toshodaiji","wikipedia"=>"ja:唐招提寺"'},geometry:{type:"Point",coordinates:[135.78544027835312,34.675922754148274]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510574",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:"forest",leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78392870631026,34.67646676139771]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510576",name:"南大門",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.78484625744736,34.67477274039195]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510577",name:"経蔵",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"wikidata"=>"Q107020488","wikimedia_commons"=>"Category:Sutra Storehouse, Toshodai-ji"'},geometry:{type:"Point",coordinates:[135.78552244154133,34.67555744962235]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510578",name:"宝蔵",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"wikidata"=>"Q107020492","wikimedia_commons"=>"Category:Treasure House, Toshodai-ji"'},geometry:{type:"Point",coordinates:[135.7855215435761,34.6757523208565]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510579",name:"礼堂",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78526278058777,34.67584388325465]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510580",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78540151804188,34.675292431460655]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510581",name:"鼓楼",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"wikidata"=>"Q107020490","wikimedia_commons"=>"Category:Korō, Toshodai-ji"'},geometry:{type:"Point",coordinates:[135.7851051,34.67572465]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510582",name:"新宝蔵",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7862815162817,34.675872625102194]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510583",name:"講堂",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"wikidata"=>"Q107020489","wikimedia_commons"=>"Category:Lecture Hall, Toshodai-ji"'},geometry:{type:"Point",coordinates:[135.78483162032077,34.675881875532184]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510584",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78574208605215,34.67529282466305]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510585",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7859167486133,34.67531769510985]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"293510586",name:"金堂",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78483176962544,34.67554416011325]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907041",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:"forest",leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78529187900486,34.67507839648341]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907046",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:"forest",leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78455742851244,34.67601303296529]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907047",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:"forest",leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.784503813257,34.67508547257833]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907061",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7866589876418,34.676687566824874]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907062",name:"水鏡天神社",type:null,aeroway:null,amenity:"place_of_worship",admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"religion"=>"shinto","wikipedia"=>"ja:水鏡天神社"'},geometry:{type:"Point",coordinates:[135.78683040619651,34.675437774494846]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907063",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78682767020953,34.675895375664474]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907064",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7865504,34.6760288]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907065",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78688325000005,34.67634775]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907067",name:"高麗門",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78525382468106,34.674799052817626]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907068",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7838733,34.6761578]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907069",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7841987746969,34.676427756015926]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907070",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78478520000002,34.67641205]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907071",name:"地蔵堂",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7850864,34.67648815]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907072",name:"中興堂",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78495315,34.67662605]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907073",name:"開山堂",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7851457,34.67623555]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907074",name:"御影堂",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7855216912979,34.67660195344136]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907075",name:"本坊",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78439991039997,34.676534248889936]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"457907076",name:"寺務所",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78562592751476,34.674899416121214]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909336",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78670725507763,34.67509949051112]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909337",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78623809999996,34.67482845]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909338",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7864898850887,34.674893566372376]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909339",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78688728424814,34.67492234397103]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909340",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7864218886672,34.675532697676964]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909347",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.78414565719456,34.67620190210166]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909348",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78401557053147,34.676301992348904]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909349",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7840076,34.67644255]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909350",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78411370427875,34.676526499532876]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909351",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78412244986512,34.67661929455249]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909352",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7848084433966,34.67656824356837]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909353",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7849594605075,34.676478225779356]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909354",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.78541478954665,34.67601165254687]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909360",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.78577658410234,34.67631801937539]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909361",name:"三暁庵",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78619761665445,34.67630784336738]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909363",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.786749147829,34.67604901120197]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909364",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7865521331087,34.67592325913342]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909365",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.78710015635707,34.676100034080775]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909366",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78691527309942,34.6761555251462]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"854909367",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78701402764096,34.67640774884701]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1121979574",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.78419502826722,34.67580701759871]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1121979575",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.7841971803437,34.67562384778575]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1121979576",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.78420419999998,34.6759708]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1121979577",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.78420507545619,34.67612642446157]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1122536037",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"roof",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.78392716339638,34.675547751290615]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1122536038",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"roof",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"layer"=>"1"'},geometry:{type:"Point",coordinates:[135.7840952757868,34.675724428626346]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1122536039",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78457529650913,34.67572572546843]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1122536040",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78500785588218,34.67675551172619]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1122573165",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78424314288898,34.67472615881301]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1122573167",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.7843176302478,34.675293802901834]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1122573168",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78606122439336,34.6756801923499]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1237463916",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.78572173373308,34.67518862514041]}}]},T={type:"FeatureCollection",name:"map-points",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{osm_id:"4539704660",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"entrance"=>"main"'},geometry:{type:"Point",coordinates:[135.7861833,34.6758718]}},{type:"Feature",properties:{osm_id:"10264940466",name:"戒壇",barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"historic"=>"monument"'},geometry:{type:"Point",coordinates:[135.7839293,34.6757205]}},{type:"Feature",properties:{osm_id:"10266651031",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"natural"=>"tree"'},geometry:{type:"Point",coordinates:[135.7841545,34.675804]}},{type:"Feature",properties:{osm_id:"10266651032",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"natural"=>"tree"'},geometry:{type:"Point",coordinates:[135.7841407,34.6756315]}},{type:"Feature",properties:{osm_id:"10266651033",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"natural"=>"tree"'},geometry:{type:"Point",coordinates:[135.7841386,34.6755578]}},{type:"Feature",properties:{osm_id:"11795793633",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"shop"=>"ticket"'},geometry:{type:"Point",coordinates:[135.7847926,34.6747524]}},{type:"Feature",properties:{osm_id:"11795793643",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"emergency"=>"fire_hydrant","fire_hydrant:type"=>"pillar"'},geometry:{type:"Point",coordinates:[135.7851729,34.6754886]}},{type:"Feature",properties:{osm_id:"11795793644",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"natural"=>"tree"'},geometry:{type:"Point",coordinates:[135.7851887,34.6754881]}},{type:"Feature",properties:{osm_id:"11795793662",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"shop"=>"gift"'},geometry:{type:"Point",coordinates:[135.7854042,34.6752894]}}]};const k=()=>T.features.flatMap(r=>{var l,e;if((l=r.properties.name)!=null&&l.match(/./)){const n=r.geometry.coordinates[0],u=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${u}`,lonlat:{x:n,y:u}}]}else if((e=r.properties.other_tags)!=null&&e.match(/"toilets"/)){const n=r.geometry.coordinates[0],u=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${u}`,lonlat:{x:n,y:u}}]}else return[]}),U=()=>E.features.flatMap(r=>{var l,e;if((l=r.properties.name)!=null&&l.match(/./)){const n=r.geometry.coordinates[0],u=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${u}`,lonlat:{x:n,y:u}}]}else if((e=r.properties.other_tags)!=null&&e.match(/"toilets"/)){const n=r.geometry.coordinates[0],u=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${u}`,lonlat:{x:n,y:u}}]}else return[]}),v=[...k(),...U()];function Y(r,l){return{title:`Found: POI: (${l.x},${l.y})`,x:{tag:"shop",name:`${r} @ ${l.x}, ${l.y}`,address:r}}}const B=I(v);onmessage=function(r){const l=r.data.p,e=r.data.pgeo,n=M(B,e),u=n===null?null:Y(n.address,n.lonlat),t=n===null||u===null?null:{p:l,pgeo:n.lonlat,info:u};v===null&&this.postMessage(null),this.postMessage(t)}})();
