(function(){"use strict";class v{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(l,e){let n=this.length++;for(;n>0;){const t=n-1>>1,a=this.values[t];if(e>=a)break;this.ids[n]=this.ids[t],this.values[n]=a,n=t}this.ids[n]=l,this.values[n]=e}pop(){if(this.length===0)return;const l=this.ids[0];if(this.length--,this.length>0){const e=this.ids[0]=this.ids[this.length],n=this.values[0]=this.values[this.length],t=this.length>>1;let a=0;for(;a<t;){let i=(a<<1)+1;const u=i+1;let o=this.ids[i],m=this.values[i];const s=this.values[u];if(u<this.length&&s<m&&(i=u,o=this.ids[u],m=s),m>=n)break;this.ids[a]=o,this.values[a]=m,a=i}this.ids[a]=e,this.values[a]=n}return l}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const w=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],h=3;class _{static from(l,e=0){if(e%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!l||l.byteLength===void 0||l.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[n,t]=new Uint8Array(l,e+0,2);if(n!==251)throw new Error("Data does not appear to be in a Flatbush format.");const a=t>>4;if(a!==h)throw new Error(`Got v${a} data when expected v${h}.`);const i=w[t&15];if(!i)throw new Error("Unrecognized array type.");const[u]=new Uint16Array(l,e+2,1),[o]=new Uint32Array(l,e+4,1);return new _(o,u,i,void 0,l,e)}constructor(l,e=16,n=Float64Array,t=ArrayBuffer,a,i=0){if(l===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(l)||l<=0)throw new Error(`Unexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+e,2),65535),this.byteOffset=i;let u=l,o=u;this._levelBounds=[u*4];do u=Math.ceil(u/this.nodeSize),o+=u,this._levelBounds.push(o*4);while(u!==1);this.ArrayType=n,this.IndexArrayType=o<16384?Uint16Array:Uint32Array;const m=w.indexOf(this.ArrayType),s=o*4*this.ArrayType.BYTES_PER_ELEMENT;if(m<0)throw new Error(`Unexpected typed array class: ${n}.`);a&&a.byteLength!==void 0&&!a.buffer?(this.data=a,this._boxes=new this.ArrayType(this.data,i+8,o*4),this._indices=new this.IndexArrayType(this.data,i+8+s,o),this._pos=o*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new t(8+s+o*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,o*4),this._indices=new this.IndexArrayType(this.data,8+s,o),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(h<<4)+m]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=l),this._queue=new v}add(l,e,n=l,t=e){const a=this._pos>>2,i=this._boxes;return this._indices[a]=a,i[this._pos++]=l,i[this._pos++]=e,i[this._pos++]=n,i[this._pos++]=t,l<this.minX&&(this.minX=l),e<this.minY&&(this.minY=e),n>this.maxX&&(this.maxX=n),t>this.maxY&&(this.maxY=t),a}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const l=this._boxes;if(this.numItems<=this.nodeSize){l[this._pos++]=this.minX,l[this._pos++]=this.minY,l[this._pos++]=this.maxX,l[this._pos++]=this.maxY;return}const e=this.maxX-this.minX||1,n=this.maxY-this.minY||1,t=new Uint32Array(this.numItems),a=65535;for(let i=0,u=0;i<this.numItems;i++){const o=l[u++],m=l[u++],s=l[u++],d=l[u++],p=Math.floor(a*((o+s)/2-this.minX)/e),y=Math.floor(a*((m+d)/2-this.minY)/n);t[i]=A(p,y)}g(t,l,this._indices,0,this.numItems-1,this.nodeSize);for(let i=0,u=0;i<this._levelBounds.length-1;i++){const o=this._levelBounds[i];for(;u<o;){const m=u;let s=l[u++],d=l[u++],p=l[u++],y=l[u++];for(let c=1;c<this.nodeSize&&u<o;c++)s=Math.min(s,l[u++]),d=Math.min(d,l[u++]),p=Math.max(p,l[u++]),y=Math.max(y,l[u++]);this._indices[this._pos>>2]=m,l[this._pos++]=s,l[this._pos++]=d,l[this._pos++]=p,l[this._pos++]=y}}}search(l,e,n,t,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let i=this._boxes.length-4;const u=[],o=[];for(;i!==void 0;){const m=Math.min(i+this.nodeSize*4,F(i,this._levelBounds));for(let s=i;s<m;s+=4){if(n<this._boxes[s]||t<this._boxes[s+1]||l>this._boxes[s+2]||e>this._boxes[s+3])continue;const d=this._indices[s>>2]|0;i>=this.numItems*4?u.push(d):(a===void 0||a(d))&&o.push(d)}i=u.pop()}return o}neighbors(l,e,n=1/0,t=1/0,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let i=this._boxes.length-4;const u=this._queue,o=[],m=t*t;l:for(;i!==void 0;){const s=Math.min(i+this.nodeSize*4,F(i,this._levelBounds));for(let d=i;d<s;d+=4){const p=this._indices[d>>2]|0,y=b(l,this._boxes[d],this._boxes[d+2]),c=b(e,this._boxes[d+1],this._boxes[d+3]),f=y*y+c*c;f>m||(i>=this.numItems*4?u.push(p<<1,f):(a===void 0||a(p))&&u.push((p<<1)+1,f))}for(;u.length&&u.peek()&1;)if(u.peekValue()>m||(o.push(u.pop()>>1),o.length===n))break l;i=u.length?u.pop()>>1:void 0}return u.clear(),o}}function b(r,l,e){return r<l?l-r:r<=e?0:r-e}function F(r,l){let e=0,n=l.length-1;for(;e<n;){const t=e+n>>1;l[t]>r?n=t:e=t+1}return l[e]}function g(r,l,e,n,t,a){if(Math.floor(n/a)>=Math.floor(t/a))return;const i=r[n+t>>1];let u=n-1,o=t+1;for(;;){do u++;while(r[u]<i);do o--;while(r[o]>i);if(u>=o)break;P(r,l,e,u,o)}g(r,l,e,n,o,a),g(r,l,e,o+1,t,a)}function P(r,l,e,n,t){const a=r[n];r[n]=r[t],r[t]=a;const i=4*n,u=4*t,o=l[i],m=l[i+1],s=l[i+2],d=l[i+3];l[i]=l[u],l[i+1]=l[u+1],l[i+2]=l[u+2],l[i+3]=l[u+3],l[u]=o,l[u+1]=m,l[u+2]=s,l[u+3]=d;const p=e[n];e[n]=e[t],e[t]=p}function A(r,l){let e=r^l,n=65535^e,t=65535^(r|l),a=r&(l^65535),i=e|n>>1,u=e>>1^e,o=t>>1^n&a>>1^t,m=e&t>>1^a>>1^a;e=i,n=u,t=o,a=m,i=e&e>>2^n&n>>2,u=e&n>>2^n&(e^n)>>2,o^=e&t>>2^n&a>>2,m^=n&t>>2^(e^n)&a>>2,e=i,n=u,t=o,a=m,i=e&e>>4^n&n>>4,u=e&n>>4^n&(e^n)>>4,o^=e&t>>4^n&a>>4,m^=n&t>>4^(e^n)&a>>4,e=i,n=u,t=o,a=m,o^=e&t>>8^n&a>>8,m^=n&t>>8^(e^n)&a>>8,e=o^o>>1,n=m^m>>1;let s=r^l,d=n|65535^(s|e);return s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765,(d<<1|s)>>>0}function k(r){const l=r.length,e=new _(l),n={};for(const{a:t,lonlat:{x:a,y:i}}of r){const u=e.add(a,i);n[`${u}`]=t}return e.finish(),{fb:e,idxs:n}}function $(r){const l=k(r),e=new Map(r.map(({a:n,lonlat:t})=>[n,t]));return{b:l,m:e}}function I({b:r,m:l},e){const{fb:n,idxs:t}=r,a=n.neighbors(e.x,e.y,1,100);if(a.length===0)return null;const i=a[0],u=t[`${i}`],o=l.get(u);return o===void 0?null:{address:u,lonlat:o}}var M={type:"FeatureCollection",name:"map-centroids",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{osm_id:null,osm_way_id:"240501942",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.23094794299212,34.228984488456284]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"248183762",name:"紀伊風土記の丘駐車場",type:null,aeroway:null,amenity:"parking",admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"fee"=>"no","parking"=>"surface"'},geometry:{type:"Point",coordinates:[135.22680020697425,34.23020534909776]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"248183799",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.22961857756502,34.22788599747589]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"252614462",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"wood",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.23340343900145,34.21860311484031]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"714358678",name:"県立紀伊風土記の丘公園",type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:"park",man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"wikidata"=>"Q11417470","wikipedia"=>"ja:和歌山県立紀伊風土記の丘"'},geometry:{type:"Point",coordinates:[135.22842099566319,34.2249382782348]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488643",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.23107795148815,34.225413074554]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488649",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.22606995130914,34.22667271975154]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488653",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2294579581699,34.22646152410413]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488656",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.22903154676,34.22726613100155]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488657",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.22947694383623,34.22698712696296]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488658",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2299797978919,34.227235615112775]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488659",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2301102302323,34.226839946567324]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1075488660",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.22986138504632,34.22663194335743]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330165340",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:"archaeological_site",land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"archaeological_site"=>"tomb"'},geometry:{type:"Point",coordinates:[135.23024015275502,34.22537705452402]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330165343",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.23455680192833,34.225135644196165]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330165344",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.23519837518523,34.22637386371173]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330165345",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.23383288433465,34.227632087273]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330165351",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.23387995472845,34.22715757565545]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330165352",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.22176919649502,34.22630212966436]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330165353",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.22408352967088,34.228628963254174]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330175919",name:null,type:null,aeroway:null,amenity:"toilets",admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2219698973402,34.22448930538128]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330179770",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2296717043194,34.227080539787146]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330179780",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.22982233107598,34.227602084413945]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330179810",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2295408,34.2282633]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330179811",name:null,type:null,aeroway:null,amenity:"parking",admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2298854697812,34.22831132732597]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330183755",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2289763880052,34.22626665377912]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330183758",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.23004893540335,34.22640375901955]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330192236",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:"water",office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"water"=>"reservoir"'},geometry:{type:"Point",coordinates:[135.2245422580527,34.22735234815835]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330192242",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:"archaeological_site",land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"archaeological_site"=>"tomb"'},geometry:{type:"Point",coordinates:[135.23220231985078,34.22554998116382]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330194041",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:"archaeological_site",land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"archaeological_site"=>"tomb"'},geometry:{type:"Point",coordinates:[135.22760547515225,34.22344353722391]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330202517",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:"yes",craft:null,geological:null,historic:null,land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:null},geometry:{type:"Point",coordinates:[135.2373561148013,34.22356636681562]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330202519",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:"archaeological_site",land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"archaeological_site"=>"tomb"'},geometry:{type:"Point",coordinates:[135.23786110753088,34.223349321586525]}},{type:"Feature",properties:{osm_id:null,osm_way_id:"1330204068",name:null,type:null,aeroway:null,amenity:null,admin_level:null,barrier:null,boundary:null,building:null,craft:null,geological:null,historic:"archaeological_site",land_area:null,landuse:null,leisure:null,man_made:null,military:null,natural:null,office:null,place:null,shop:null,sport:null,tourism:null,other_tags:'"archaeological_site"=>"tomb"'},geometry:{type:"Point",coordinates:[135.22082607069356,34.22438147763375]}}]},E={type:"FeatureCollection",name:"map-points",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{osm_id:"1003305947",name:"紀伊風土記の丘",barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"leisure"=>"park"'},geometry:{type:"Point",coordinates:[135.2294793,34.2291586]}},{type:"Feature",properties:{osm_id:"1423056737",name:"和歌山県立紀伊風土記の丘",barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"email"=>"kofun@kiifudoki.wakayama-c.ed.jp","name:en"=>"Wakayama Prefecture Kii-fudoki-no-oka Museum of Archaeology and Folklore","note:ja"=>"国土数値情報（公共施設データ）平成19年　国土交通省","phone"=>"+81-73-471-6123","source_ref"=>"http://nlftp.mlit.go.jp/ksj/jpgis/datalist/KsjTmplt-P02-v2_0.html","tourism"=>"museum","website"=>"https://www.kiifudoki.wakayama-c.ed.jp/","wikidata"=>"Q11417470"'},geometry:{type:"Point",coordinates:[135.2295617,34.227911]}},{type:"Feature",properties:{osm_id:"4759588413",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"power"=>"tower"'},geometry:{type:"Point",coordinates:[135.2206601,34.2241941]}},{type:"Feature",properties:{osm_id:"4759588414",name:"大日山",barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"natural"=>"peak"'},geometry:{type:"Point",coordinates:[135.2207515,34.2242017]}},{type:"Feature",properties:{osm_id:"4759588415",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"power"=>"tower"'},geometry:{type:"Point",coordinates:[135.2192211,34.2273379]}},{type:"Feature",properties:{osm_id:"6006820093",name:"紀伊風土記の丘クリニック",barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"clinic","healthcare"=>"clinic","healthcare:speciality"=>"internal"'},geometry:{type:"Point",coordinates:[135.228947,34.2301882]}},{type:"Feature",properties:{osm_id:"6006824265",name:"喫茶ピュア",barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"cafe","cuisine"=>"coffee_shop","outdoor_seating"=>"yes"'},geometry:{type:"Point",coordinates:[135.2265265,34.2306145]}},{type:"Feature",properties:{osm_id:"12307243168",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"toilets"'},geometry:{type:"Point",coordinates:[135.2315781,34.2230659]}},{type:"Feature",properties:{osm_id:"12307287696",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"bench"'},geometry:{type:"Point",coordinates:[135.2297231,34.2268945]}},{type:"Feature",properties:{osm_id:"12307287697",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"bench"'},geometry:{type:"Point",coordinates:[135.2297785,34.2269054]}},{type:"Feature",properties:{osm_id:"12307287698",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"leisure"=>"picnic_table"'},geometry:{type:"Point",coordinates:[135.2296561,34.2269814]}},{type:"Feature",properties:{osm_id:"12307287701",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"leisure"=>"picnic_table"'},geometry:{type:"Point",coordinates:[135.2299603,34.2271673]}},{type:"Feature",properties:{osm_id:"12307287702",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"leisure"=>"picnic_table"'},geometry:{type:"Point",coordinates:[135.2299922,34.2271707]}},{type:"Feature",properties:{osm_id:"12307287703",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"leisure"=>"picnic_table"'},geometry:{type:"Point",coordinates:[135.230035,34.2271741]}},{type:"Feature",properties:{osm_id:"12307287724",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"bench"'},geometry:{type:"Point",coordinates:[135.2296561,34.2274995]}},{type:"Feature",properties:{osm_id:"12307287866",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"natural"=>"tree"'},geometry:{type:"Point",coordinates:[135.2300027,34.2276221]}},{type:"Feature",properties:{osm_id:"12307596416",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"natural"=>"tree"'},geometry:{type:"Point",coordinates:[135.2291207,34.2267403]}},{type:"Feature",properties:{osm_id:"12307596432",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"bench"'},geometry:{type:"Point",coordinates:[135.229872,34.2276225]}},{type:"Feature",properties:{osm_id:"12307596433",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"bench"'},geometry:{type:"Point",coordinates:[135.2298788,34.2276061]}},{type:"Feature",properties:{osm_id:"12307596434",name:null,barrier:null,highway:null,ref:null,address:null,is_in:null,place:null,man_made:null,other_tags:'"amenity"=>"bench"'},geometry:{type:"Point",coordinates:[135.2299388,34.2275929]}}]};const T=()=>E.features.flatMap(r=>{var l,e;if((l=r.properties.name)!=null&&l.match(/./)){const n=r.geometry.coordinates[0],t=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${t}`,lonlat:{x:n,y:t}}]}else if((e=r.properties.other_tags)!=null&&e.match(/"toilets"/)){const n=r.geometry.coordinates[0],t=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${t}`,lonlat:{x:n,y:t}}]}else return[]}),U=()=>M.features.flatMap(r=>{var l,e;if((l=r.properties.name)!=null&&l.match(/./)){const n=r.geometry.coordinates[0],t=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${t}`,lonlat:{x:n,y:t}}]}else if((e=r.properties.other_tags)!=null&&e.match(/"toilets"/)){const n=r.geometry.coordinates[0],t=r.geometry.coordinates[1];return[{a:`lon=${n},lat=${t}`,lonlat:{x:n,y:t}}]}else return[]}),x=[...T(),...U()];function Y(r,l){return{title:`Found: POI: (${l.x},${l.y})`,x:{tag:"shop",name:`${r} @ ${l.x}, ${l.y}`,address:r}}}const B=$(x);onmessage=function(r){const l=r.data.p,e=r.data.pgeo,n=I(B,e),t=n===null?null:Y(n.address,n.lonlat),a=n===null||t===null?null:{p:l,pgeo:n.lonlat,info:t};x===null&&this.postMessage(null),this.postMessage(a)}})();
